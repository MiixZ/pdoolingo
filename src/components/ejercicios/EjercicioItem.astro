---
import TipoFlecha from "@icons/ejercicios/TipoFlecha.astro";
import TipoUnir from "@icons/ejercicios/TipoUnir.astro";
import TipoTexto from "@icons/ejercicios/TipoTexto.astro";
import TipoRellenar from "@icons/ejercicios/TipoRellenar.astro";
import type { Ejercicio } from "@interfaces/Ejercicio";
import type { Usuario } from "@interfaces/Usuario";

interface Props {
  Ejercicio: Ejercicio;
  numero: number;
  Usuario: Usuario;
}

const { Ejercicio, numero, Usuario } = Astro.props;
---

<tr
  class="flex flex-col lg:flex-row items-center mb-4 p-6 border-4 rounded-lg border-gray-600 bg-slate-900 hover:bg-slate-500 transition-colors duration-300"
>
  <td class="flex flex-col justify-center w-full">
    <slot />
    <div class="flex flex-col lg:flex-row items-center w-full gap-4">
      <p
        class="py-2 flex justify-center items-center font-bold w-full lg:w-1/4 text-center text-2xl lg:text-4xl"
      >
        {numero}
      </p>
      <p class="flex w-full lg:w-1/4 text-center items-center justify-center">
        {
          (() => {
            switch (Ejercicio.tipo) {
              case "flecha":
                return <TipoFlecha />;
              case "unir":
                return <TipoUnir />;
              case "texto":
                return <TipoTexto />;
              case "rellenar":
                return <TipoRellenar />;
              default:
                return Ejercicio.tipo;
            }
          })()
        }
      </p>
      <a
        href={`/ejercicios/${Ejercicio.id}?id_usuario=${Usuario.id}`}
        class="flex relative justify-center p-2 text-2xl text-center border-r border-l
           hover:bg-slate-500 rounded-xl transition-colors transition-duration-300 w-full lg:w-1/4 lg:text-xl"
      >
        START
      </a>
      <p
        class="flex justify-center items-center text-center p-3 text-2xl text-yellow-700 font-bold bg-lime-600 rounded-xl w-full lg:w-1/4"
      >
        {Ejercicio.xp_base}
      </p>
    </div>
  </td>
</tr>
